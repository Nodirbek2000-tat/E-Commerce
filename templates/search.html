<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Search Results</title>-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">-->
<!--</head>-->
<!--<body class="bg-light">-->

<!--<div class="container mt-4 position-relative">-->

<!--    &lt;!&ndash; X tugmasi &ndash;&gt;-->
<!--    <a href="javascript:history.back()"-->
<!--       class="btn-close position-absolute"-->
<!--       style="top: 10px; right: 10px;"-->
<!--       aria-label="Close"></a>-->

<!--    <h2 class="mb-4">Search Results</h2>-->

<!--    &lt;!&ndash; Products Grid &ndash;&gt;-->
<!--    <div class="row">-->
<!--        {% for product in response %}-->
<!--        <div class="col-md-3 mb-4">-->
<!--            <div class="card h-100 shadow-sm">-->
<!--                <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}"-->
<!--                     style="height: 180px; object-fit: cover;">-->
<!--                <div class="card-body text-center">-->
<!--                    <h5 class="card-title">{{ product.name }}</h5>-->
<!--                    <p class="mb-1 text-primary fw-bold">${{ product.price }}</p>-->
<!--                    {% if product.discount %}-->
<!--                        <p class="mb-0 text-danger">Discount: ${{ product.discount }}</p>-->
<!--                    {% endif %}-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        {% empty %}-->
<!--        <p>No results found.</p>-->
<!--        {% endfor %}-->
<!--    </div>-->

<!--    &lt;!&ndash; Pagination &ndash;&gt;-->
<!--    <div class="d-flex justify-content-center mt-4">-->
<!--        <nav>-->
<!--            <ul class="pagination">-->
<!--                {% if page_obj.has_previous %}-->
<!--                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}&q={{ request.GET.q }}">Previous</a></li>-->
<!--                {% else %}-->
<!--                    <li class="page-item disabled"><span class="page-link">Previous</span></li>-->
<!--                {% endif %}-->

<!--                {% for num in page_obj.paginator.page_range %}-->
<!--                    {% if page_obj.number == num %}-->
<!--                        <li class="page-item active"><span class="page-link">{{ num }}</span></li>-->
<!--                    {% else %}-->
<!--                        <li class="page-item"><a class="page-link" href="?page={{ num }}&q={{ request.GET.q }}">{{ num }}</a></li>-->
<!--                    {% endif %}-->
<!--                {% endfor %}-->

<!--                {% if page_obj.has_next %}-->
<!--                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}&q={{ request.GET.q }}">Next</a></li>-->
<!--                {% else %}-->
<!--                    <li class="page-item disabled"><span class="page-link">Next</span></li>-->
<!--                {% endif %}-->
<!--            </ul>-->
<!--        </nav>-->
<!--    </div>-->

<!--</div>-->

<!--</body>-->
<!--</html>-->

<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Search Results</title>-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">-->
<!--</head>-->
<!--<body class="bg-light">-->

<!--<div class="container mt-4 position-relative">-->

<!--    &lt;!&ndash; X tugmasi &ndash;&gt;-->
<!--    <a href="javascript:history.back()"-->
<!--       class="btn-close position-absolute"-->
<!--       style="top: 10px; right: 10px;"-->
<!--       aria-label="Close"></a>-->

<!--    <h2 class="mb-4">Search Results</h2>-->

<!--    &lt;!&ndash; Products Grid &ndash;&gt;-->
<!--    <div class="row">-->
<!--        {% for product in response %}-->
<!--        <div class="col-md-3 mb-4">-->
<!--            <div class="card h-100 shadow-sm text-center border-0">-->
<!--                <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}"-->
<!--                     style="height: 200px; object-fit: cover; border-bottom: 1px solid #ddd;">-->

<!--                <div class="card-body">-->
<!--                    <h5 class="card-title">{{ product.name }}</h5>-->

<!--                    &lt;!&ndash; Narx &ndash;&gt;-->
<!--                    <p class="mb-1 text-primary fw-bold">${{ product.price }}</p>-->

<!--                    &lt;!&ndash; Discount &ndash;&gt;-->
<!--                    {% if product.discount %}-->
<!--                        <p class="mb-2 text-danger">Discount: ${{ product.discount }}</p>-->
<!--                    {% endif %}-->

<!--                    &lt;!&ndash; Add to Cart tugmasi &ndash;&gt;-->
<!--                    <a href="{% url 'products' product.slug %}" class="btn btn-warning w-100">-->
<!--                        Add to Cart-->
<!--                    </a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        {% empty %}-->
<!--        <p class="text-center mt-4">No results found.</p>-->
<!--        {% endfor %}-->
<!--    </div>-->

<!--    &lt;!&ndash; Pagination &ndash;&gt;-->
<!--    <div class="d-flex justify-content-center mt-4">-->
<!--        <nav>-->
<!--            <ul class="pagination">-->
<!--                {% if page_obj.has_previous %}-->
<!--                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}&q={{ request.GET.q }}">Previous</a></li>-->
<!--                {% else %}-->
<!--                    <li class="page-item disabled"><span class="page-link">Previous</span></li>-->
<!--                {% endif %}-->

<!--                {% for num in page_obj.paginator.page_range %}-->
<!--                    {% if page_obj.number == num %}-->
<!--                        <li class="page-item active"><span class="page-link">{{ num }}</span></li>-->
<!--                    {% else %}-->
<!--                        <li class="page-item"><a class="page-link" href="?page={{ num }}&q={{ request.GET.q }}">{{ num }}</a></li>-->
<!--                    {% endif %}-->
<!--                {% endfor %}-->

<!--                {% if page_obj.has_next %}-->
<!--                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}&q={{ request.GET.q }}">Next</a></li>-->
<!--                {% else %}-->
<!--                    <li class="page-item disabled"><span class="page-link">Next</span></li>-->
<!--                {% endif %}-->
<!--            </ul>-->
<!--        </nav>-->
<!--    </div>-->

<!--</div>-->

<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <style>
        body {
            background: #f8f9fa;
        }
        .product-card {
            border-radius: 10px;
            background: #fff;
            overflow: hidden;
            transition: transform 0.2s ease-in-out;
        }
        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
        }
        /* Rasm qismi */
        .image-holder {
            position: relative;
            overflow: hidden;
        }
        .product-img {
            height: 260px;
            width: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .product-card:hover .product-img {
            transform: scale(1.03);
        }
        /* ADD TO CART tugmasi */
        .overlay-btn {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: #fff;
            text-transform: uppercase;
            font-weight: 600;
            padding: 12px 50px;
            font-size: 15px;
            border-radius: 6px;
            border: 2px solid #fff;
            text-decoration: none;
            letter-spacing: 1px;
            white-space: nowrap;
            opacity: 0;
            transition: background-color 0.3s ease, opacity 0.3s ease;
        }
        .image-holder:hover .overlay-btn {
            opacity: 1;
        }
        .overlay-btn:hover {
            background-color: #1e90ff;
            color: #fff;
            border-color: #1e90ff;
        }
        /* Mahsulot nomi */
        .product-title {
            font-size: 17px;
            font-weight: 700;
            color: #222;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }
        /* Narxlar */
        .new-price {
            font-size: 18px;
            font-weight: bold;
            color: #2E7D32;
        }
        .old-price {
            font-size: 14px;
            color: #999;
            text-decoration: line-through;
        }
    </style>
</head>
<body>

<div class="container mt-4">
    <!-- Title -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="text-capitalize">Search Results</h2>
        <span class="text-muted">{{ page_obj.paginator.count }} items found</span>
    </div>

    <!-- Products Grid -->
    <div class="row">
        {% for product in response %}
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
            <div class="product-card shadow-sm border-0">
                <!-- Image -->
                <div class="image-holder">
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-img">
                    <a href="{% url 'products' product.slug %}" class="overlay-btn">ADD TO CART</a>
                </div>
                <!-- Info -->
                <div class="product-info p-2">
                    <div class="product-title" title="{{ product.name }}">{{ product.name }}</div>
                    <div class="price-block">
                        <div class="new-price">
                            {% if product.discount %}
                                ${{ product.discount }}
                            {% else %}
                                ${{ product.price }}
                            {% endif %}
                        </div>
                        {% if product.discount %}
                            <div class="old-price">${{ product.price }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center mt-4">No results found.</p>
        {% endfor %}
    </div>

    <!-- Pagination -->
    <div class="pagination d-flex justify-content-center mt-4">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}&q={{ request.GET.q }}" class="btn btn-outline-primary me-2">Back</a>
        {% endif %}
        <span class="btn btn-light disabled">{{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</span>
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}&q={{ request.GET.q }}" class="btn btn-outline-primary ms-2">Next</a>
        {% endif %}
    </div>
</div>

</body>
</html>


