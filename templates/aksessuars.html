{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">

    <!-- Title -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="text-capitalize">Accessoires</h2>
        <span class="text-muted">{{ page_obj.paginator.count }} items</span>
    </div>


    <div class="row">
        {% for akses in aksessuars %}
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
            <div class="product-card shadow-sm border-0">

                <div class="image-holder">
                    <img src="{{ akses.image.url }}" alt="{{ akses.name }}" class="product-img">
                    <a href="{% url 'products' akses.slug %}" class="overlay-btn">ADD TO CART</a>
                </div>

                <div class="product-info p-2">
                    <div class="product-title" title="{{ akses.name }}">{{ akses.name }}</div>
                    <div class="price-block">
                        <div class="new-price">
                            {% if akses.discount %}
                                ${{ akses.discount }}
                            {% else %}
                                ${{ akses.price }}
                            {% endif %}
                        </div>
                        {% if akses.discount %}
                            <div class="old-price">${{ akses.discount }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>


    <div class="pagination d-flex justify-content-center mt-4">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" class="btn btn-outline-primary me-2">Back</a>
        {% endif %}

        <span class="btn btn-light disabled">{{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" class="btn btn-outline-primary ms-2">Next</a>
        {% endif %}
    </div>
</div>

<style>
.product-card {
    border-radius: 10px;
    background: #fff;
    overflow: hidden;
    transition: transform 0.2s ease-in-out;
}
.product-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}

/* Rasm qismi */
.image-holder {
    position: relative;
    overflow: hidden;
}
.product-img {
    height: 260px;
    width: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}
.product-card:hover .product-img {
    transform: scale(1.03);
}

/* ADD TO CART tugmasi */
.overlay-btn {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.8);
    color: #fff;
    text-transform: uppercase;
    font-weight: 600;
    padding: 12px 50px; /* kengroq joy */
    font-size: 15px;
    border-radius: 6px;
    border: 2px solid #fff; /* oq ramka */
    text-decoration: none;
    letter-spacing: 1px;
    white-space: nowrap; /* matn boâ€˜linmasin */
    opacity: 0;
    transition: background-color 0.3s ease, opacity 0.3s ease;
}
.image-holder:hover .overlay-btn {
    opacity: 1;
}
.overlay-btn:hover {
    background-color: #1e90ff; /* havorang */
    color: #fff;
    border-color: #1e90ff;
}

/* Mahsulot nomi */
.product-title {
    font-size: 17px;
    font-weight: 700;
    color: #222;
}

/* Narxlar */
.new-price {
    font-size: 18px;
    font-weight: bold;
    color: #2E7D32;
}
.old-price {
    font-size: 14px;
    color: #999;
    text-decoration: line-through;
}
</style>
{% endblock %}
